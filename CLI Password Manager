import getpass

FILENAME = "credentials.txt"

def add_credentials():
    site = input("Enter website: ")
    username = input("Enter username: ")
    password = getpass.getpass("Enter password: ")

    with open(FILENAME, "a") as file:
        file.write(f"{site},{username},{password}\n")
    print("✅ Credentials saved.")

def get_credentials():
    site = input("Enter website to retrieve: ")
    found = False

    with open(FILENAME, "r") as file:
        for line in file:
            s, u, p = line.strip().split(",")
            if s == site:
                print(f"🔑 Username: {u}\n🔐 Password: {p}")
                found = True
                break

    if not found:
        print("❌ Site not found.")

if __name__ == "__main__":
    choice = input("Type 'add' to store or 'get' to retrieve: ").lower()
    if choice == "add":
        add_credentials()
    elif choice == "get":
        get_credentials()
    else:
        print("❓ Invalid choice.")
